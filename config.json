{
  "paths": {
    "pretrained_model_name_or_path": "stable-diffusion-v1-5",
    "instance_data_dir": "assets/monk",
    "class_data_dir": "output/class_images_jxy_1/class_images",
    "output_dir": "./output"
  },
  "dataset": {
    "instance_prompt": "a jxy furry robotic monkey",
    "class_prompt": "a furry robotic monky",
    "resolution": 512,
    "center_crop": true,
    "train_batch_size": 32,
    "dataloader_num_workers": 0
  },
  "training": {
    "max_train_steps": 2000,
    "learning_rate": 0.000114514,
    "scale_lr": false,
    "lr_scheduler": "constant",
    "lr_warmup_steps": 0,
    "adam_beta1": 0.9,
    "adam_beta2": 0.999,
    "adam_weight_decay": 1e-2,
    "adam_epsilon": 1e-8,
    "max_grad_norm": 1.0,
    "gradient_accumulation_steps": 1,
    "gradient_checkpointing": true,
    "train_text_encoder": true,
    "prior_preservation": true,
    "prior_loss_weight": 1.0,
    "num_class_images": 200,
    "seed": null,
    "mixed_precision": "fp16",
    "resume_from_checkpoint": null,
    "early_stop_threshold": 20,
    "allow_tf32": false
  },
  "logging_saving": {
    "save_steps": 500,
    "logging_dir": "./logs",
    "logging_dir_suffix": "logs",
    "report_to": "tensorboard",
    "validation_prompt": "A photo of jxy furry robotic monkey in a new location",
    "num_validation_images": 4,
    "validation_steps": 100,
    "log_every_n_steps": 1,
    "print_status_every_n_steps": 200,
    "save_model_config": {
      "save_final_model": true,
      "save_checkpoints": true,
      "save_format": "diffusers",
      "checkpoint_path": "./checkpoints",
      "checkpoint_limit": 3,
      "use_safetensors": true,
      "add_timestamp": true,
      "save_optimizer_state": true,
      "save_precision": "fp16",
      "auto_prune": true,
      "checkpoint_naming_template": "jxy_monkey_{timestamp}_{step}"
    },
    "plot_loss": true
  },
  "memory_optimization": {
    "use_8bit_adam": true,
    "attention_slice_size": null,
    "xformers_optimization": true,
    "offload_optimizer_to_cpu": false,
    "aggressive_gc": false,
    "low_memory_mode_execute_loop": false
  },
  "advanced":{
    "monitor_loss_in_loop": true
  },
  "inference": {
    "num_inference_steps": 50,
    "guidance_scale": 7.5,
    "negative_prompt": "ugly, blurry, poor quality, deformed, disfigured, malformed limbs, missing limbs, bad anatomy, bad proportions",
    "scheduler": "DPMSolverMultistep",
    "use_karras_sigmas": true,
    "noise_offset": 0.1,
    "vae_batch_size": 1,
    "high_quality_mode": true
  }
}
